{"version":3,"sources":["App.js","index.js"],"names":["App","props","back","state","popout","activePanel","history","bridge","send","length","pop","setState","change_hash","componentDidMount","bind","initializeApp","go","window","addEventListener","e","preventDefault","subscribe","a","detail","type","data","undefined","console","log","schemeAttribute","document","createAttribute","value","scheme","body","attributes","setNamedItem","eruda","init","this","hash","location","replace","panel","push","pushState","snackbar","text","icon","style","action","onActionClick","sleep","layout","onClose","before","size","ms","Promise","resolve","setTimeout","onSwipeBack","id","React","Component","ReactDOM","render","className","getElementById"],"mappings":"2mBA4HeA,E,YA3Gd,WAAYC,GAAQ,IAAD,8BAClB,4CAAMA,KA2CPC,KAAO,WACN,GAAyB,OAAtB,EAAKC,MAAMC,OAAd,CADY,MAKmB,EAAKD,MAA9BE,EALM,EAKNA,YAAaC,EALP,EAKOA,QACA,SAAhBD,EACFE,IAAOC,KAAK,gBAAiB,CAAC,OAAU,YAElB,IAAnBF,EAAQG,OACVF,IAAOC,KAAK,gBAAiB,CAAC,OAAU,YAC9BF,EAAQG,OAAS,IAC3BH,EAAQI,MACRL,EAAcC,EAAQA,EAAQG,OAAS,GACvC,EAAKE,SAAS,CAACN,gBACf,EAAKO,YAAYP,SAblB,EAAKM,SAAS,CAAEP,OAAQ,QA3CzB,EAAKD,MAAQ,CACZC,OAAQ,KACRE,QAAS,CAAC,QACVD,YAAa,QAGd,EAAKQ,kBAAoB,EAAKA,kBAAkBC,KAAvB,gBACzB,EAAKC,cAAgB,EAAKA,cAAcD,KAAnB,gBACrB,EAAKZ,KAAO,EAAKA,KAAKY,KAAV,gBACZ,EAAKE,GAAK,EAAKA,GAAGF,KAAR,gBACV,EAAKF,YAAc,EAAKA,YAAYE,KAAjB,gBAbD,E,iFAgBG,IAAD,OACpBG,OAAOC,iBAAiB,YAAY,SAAAC,GACnCA,EAAEC,iBACF,EAAKlB,KAAKiB,MAGXZ,IAAOc,UAAP,uCAAiB,mCAAAC,EAAA,0DAASC,OAAUC,EAAnB,EAAmBA,KAAMC,EAAzB,EAAyBA,UAC7BC,IAATF,GAAoBG,QAAQC,IAAIJ,EAAMC,GAC5B,yBAATD,KACGK,EAAkBC,SAASC,gBAAgB,WACjCC,MAAQP,EAAKQ,OAASR,EAAKQ,OAAS,eACpDH,SAASI,KAAKC,WAAWC,aAAaP,GACtCQ,IAAMC,QANS,2CAAjB,uDASAC,KAAKxB,kB,sCAIL,IAAIyB,EAAOvB,OAAOwB,SAASD,KACvBA,GACHA,EAAOA,EAAKE,QAAQ,IAAI,IACxBH,KAAKvB,GAAGwB,IAERD,KAAK3B,YAAY,U,yBAuBhB+B,GACF,IAAIrC,EAAUiC,KAAKpC,MAAMG,QACtBA,EAAQA,EAAQG,OAAO,KAAOkC,IAChCrC,EAAQsC,KAAKD,GACb1B,OAAOX,QAAQuC,UAAU,CAACxC,YAAasC,GAAQ,SAC/CJ,KAAK5B,SAAS,CAACN,YAAasC,EAAOrC,UAASwC,SAAU,QAEvDP,KAAK3B,YAAY+B,K,kCAELA,GACZpC,IAAOC,KAAK,sBAAuB,CAAC,SAAYmC,M,4EAG7BI,EAAMC,EAAMC,EAAOC,EAAQC,G,mFAC9CZ,KAAK5B,SAAS,CAAEmC,SAAU,O,SACpBP,KAAKa,MAAM,K,OACI,OAAlBD,IAAwBA,EAAgB,cAC3CZ,KAAK5B,SAAS,CAAEmC,SACd,kBAAC,IAAD,CACCO,OAAO,WACPC,QAAS,kBAAM,EAAK3C,SAAS,CAAEmC,SAAU,QACzCS,OAAQ,kBAAC,IAAD,CAAQC,KAAM,GAAIP,MAAOA,GAAQD,GACzCE,OAAQA,EACRC,cAAeA,GAEdJ,K,2IAICU,GACL,OAAO,IAAIC,SAAQ,SAAAC,GAAO,OAAIC,WAAWD,EAASF,Q,+BAIlD,OACC,kBAAC,IAAD,CAAMpD,YAAakC,KAAKpC,MAAME,YAAaD,OAAQmC,KAAKpC,MAAMC,OAAQE,QAASiC,KAAKpC,MAAMG,QAASuD,YAAatB,KAAKrC,MACpH,kBAAC,IAAD,CAAO4D,GAAG,QACT,kBAAC,IAAD,uB,GAtGaC,IAAMC,WCNxBzD,IAAOC,KAAK,gBAQZyD,IAASC,OAAO,kBAAC,EAAD,CAAKC,UAAW,KAAQrC,SAASsC,eAAe,W","file":"static/js/main.3cece0b8.chunk.js","sourcesContent":["import React from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './css/App.css'\nimport eruda from 'eruda';\n\nimport { Panel, PanelHeader, View , ScreenSpinner, List , Cell , Gallery , FormLayout , Input , Avatar , Group , Epic, Tabbar, TabbarItem, Separator, Button, PanelHeaderContext, Header, PanelHeaderSimple, PanelHeaderContent, Placeholder, Tabs,\n\tTabsItem, PullToRefresh, Snackbar, Textarea, PanelHeaderBack, PanelHeaderClose, CellButton, Alert, Link  } from '@vkontakte/vkui';\n\nconst blueBackground = {\n\tbackgroundColor: 'var(--accent)'\n}, redBackground = {\n\tbackgroundColor: 'var(--dynamic_red)'\n};\n\nclass App extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tpopout: null,\n\t\t\thistory: [\"main\"],\n\t\t\tactivePanel: \"main\"\n\t\t};\n\n\t\tthis.componentDidMount = this.componentDidMount.bind(this);\n\t\tthis.initializeApp = this.initializeApp.bind(this);\n\t\tthis.back = this.back.bind(this);\n\t\tthis.go = this.go.bind(this);\n\t\tthis.change_hash = this.change_hash.bind(this);\n\t}\n\n\tcomponentDidMount () {\n\t\twindow.addEventListener('popstate', e => {\n\t\t\te.preventDefault();\n\t\t\tthis.back(e);\n\t\t});\n\n\t\tbridge.subscribe(async ({ detail: { type, data }}) => {\n\t\t\tif(type !== undefined) console.log(type, data);\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t\teruda.init();\n\t\t\t}\n\t\t});\n\t\tthis.initializeApp();\n\t}\n\n\tinitializeApp() {\n\t\tlet hash = window.location.hash;\n\t\tif (hash) {\n\t\t\thash = hash.replace('#','');\n\t\t\tthis.go(hash);\n\t\t}else{\n\t\t\tthis.change_hash('main');\n\t\t}\n\t}\n\n\tback = () => {\n\t\tif(this.state.popout !== null){\n\t\t\tthis.setState({ popout: null });\n\t\t\treturn ;\n\t\t}\n\t\tlet { activePanel, history } = this.state;\n\t\tif(activePanel === 'main'){\n\t\t\tbridge.send(\"VKWebAppClose\", {\"status\": \"success\"});\n\t\t}else {\n\t\t\tif(history.length === 1) {\n\t\t\t\tbridge.send(\"VKWebAppClose\", {\"status\": \"success\"});\n\t\t\t} else if (history.length > 1) {\n\t\t\t\thistory.pop();\n\t\t\t\tactivePanel = history[history.length - 1];\n\t\t\t\tthis.setState({activePanel});\n\t\t\t\tthis.change_hash(activePanel);\n\t\t\t}\n\t\t}\n\t};\n\tgo(panel) {\n\t\tlet history = this.state.history;\n\t\tif(history[history.length-1] !== panel) {\n\t\t\thistory.push(panel);\n\t\t\twindow.history.pushState({activePanel: panel}, 'Title');\n\t\t\tthis.setState({activePanel: panel, history, snackbar: null});\n\t\t}\n\t\tthis.change_hash(panel);\n\t}\n\tchange_hash (panel){\n\t\tbridge.send(\"VKWebAppSetLocation\", {\"location\": panel});\n\t}\n\n\tasync showSnackBar (text, icon, style, action, onActionClick){\n\t\tthis.setState({ snackbar: null });\n\t\tawait this.sleep(150);\n\t\tif(onActionClick === null) onActionClick = ()=> {};\n\t\tthis.setState({ snackbar:\n\t\t\t\t<Snackbar\n\t\t\t\t\tlayout=\"vertical\"\n\t\t\t\t\tonClose={() => this.setState({ snackbar: null })}\n\t\t\t\t\tbefore={<Avatar size={24} style={style}>{icon}</Avatar>}\n\t\t\t\t\taction={action}\n\t\t\t\t\tonActionClick={onActionClick}\n\t\t\t\t>\n\t\t\t\t\t{text}\n\t\t\t\t</Snackbar>\n\t\t});\n\t}\n\tsleep(ms) {\n\t\treturn new Promise(resolve => setTimeout(resolve, ms));\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<View activePanel={this.state.activePanel} popout={this.state.popout} history={this.state.history} onSwipeBack={this.back}>\n\t\t\t\t<Panel id=\"main\">\n\t\t\t\t\t<PanelHeader>Mini App</PanelHeader>\n\t\t\t\t</Panel>\n\t\t\t</View>\n\t\t);\n\t}\n}\n\nexport default App;","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport bridge from '@vkontakte/vk-bridge';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK  Mini App\nbridge.send('VKWebAppInit');\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App className={''} />, document.getElementById('root'));\n"],"sourceRoot":""}