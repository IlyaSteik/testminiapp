(window.webpackJsonpminiapp=window.webpackJsonpminiapp||[]).push([[0],{152:function(e,t,n){e.exports=n(240)},232:function(e,t,n){},240:function(e,t,n){"use strict";n.r(t);n(153),n(180),n(182),n(183),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222);var a=n(0),i=n.n(a),s=n(74),c=n.n(s),o=n(16),r=n.n(o),u=n(34),l=n.n(u),p=n(51),h=n(75),b=n(76),d=n(80),m=n(77),v=n(27),f=n(81),k=(n(231),n(232),n(78)),y=n.n(k),w=n(31),g=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).back=function(){if(null===n.state.popout){var e=n.state,t=e.activePanel,a=e.history;"main"===t?r.a.send("VKWebAppClose",{status:"success"}):1===a.length?r.a.send("VKWebAppClose",{status:"success"}):a.length>1&&(a.pop(),t=a[a.length-1],n.setState({activePanel:t}),n.change_hash(t))}else n.setState({popout:null})},n.state={popout:null,history:["main"],activePanel:"main"},n.componentDidMount=n.componentDidMount.bind(Object(v.a)(n)),n.initializeApp=n.initializeApp.bind(Object(v.a)(n)),n.back=n.back.bind(Object(v.a)(n)),n.go=n.go.bind(Object(v.a)(n)),n.change_hash=n.change_hash.bind(Object(v.a)(n)),n}return Object(f.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("popstate",(function(t){t.preventDefault(),e.back(t)})),r.a.subscribe(function(){var e=Object(p.a)(l.a.mark((function e(t){var n,a,i,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.detail,a=n.type,i=n.data,void 0!==a&&console.log(a,i),"VKWebAppUpdateConfig"===a&&((s=document.createAttribute("scheme")).value=i.scheme?i.scheme:"client_light",document.body.attributes.setNamedItem(s),y.a.init());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.initializeApp()}},{key:"initializeApp",value:function(){var e=window.location.hash;e?(e=e.replace("#",""),this.go(e)):this.change_hash("main")}},{key:"go",value:function(e){var t=this.state.history;t[t.length-1]!==e&&(t.push(e),window.history.pushState({activePanel:e},"Title"),this.setState({activePanel:e,history:t,snackbar:null})),this.change_hash(e)}},{key:"change_hash",value:function(e){r.a.send("VKWebAppSetLocation",{location:e})}},{key:"showSnackBar",value:function(){var e=Object(p.a)(l.a.mark((function e(t,n,a,s,c){var o=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({snackbar:null}),e.next=3,this.sleep(150);case 3:null===c&&(c=function(){}),this.setState({snackbar:i.a.createElement(w.d,{layout:"vertical",onClose:function(){return o.setState({snackbar:null})},before:i.a.createElement(w.a,{size:24,style:a},n),action:s,onActionClick:c},t)});case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,a,i,s){return e.apply(this,arguments)}}()},{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"render",value:function(){return i.a.createElement(w.e,{activePanel:this.state.activePanel,popout:this.state.popout,history:this.state.history,onSwipeBack:this.back},i.a.createElement(w.b,{id:"main"},i.a.createElement(w.c,null,"Mini App")))}}]),t}(i.a.Component);r.a.send("VKWebAppInit"),c.a.render(i.a.createElement(g,{className:""}),document.getElementById("root"))}},[[152,1,2]]]);
//# sourceMappingURL=main.2ac6348a.chunk.js.map